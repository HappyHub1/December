/*
* Prefixed by https://autoprefixer.github.io
* PostCSS: v8.3.6,
* Autoprefixer: v10.3.1
* Browsers: last 2 Chrome versions,last 2 Firefox versions,last 2 Edge versions
*/

:root {
  --z-base: 1;
  --z-player: 10;
  --z-chat: 20;
  --z-navbar: 30;
  --z-dropdown: 40;
  --z-modal: 50;
  --z-effects: 100000;  /* All effects should use this as base */
}

.spoiler  a {color: #000000 !important;}
.spoiler:hover  a {color: #ffffff !important;}
.spoiler * {opacity: 0;}
.spoiler:hover * {opacity: 1;}
/*#messagebuffer.linewrap img, #messagebuffer.linewrap video{max-width: 300px; max-height: 300px;}*/
.profile-image {width:125px; height:auto; max-height:300px;}
.profile-box {max-width: 137px; max-height:500px;}
.panel-primary > .panel-heading {background-color:black !important;border-color: white !important;}
.panel-primary {border-color: white !important;}
#messagebuffer {width: auto;padding-left: 0px;padding-right: 0px;}
#qualitymenu.dropdown-menu{width:100% !important;min-width:50px !important;margin-top:0px;z-index: 1;}
#qualitymenu .header-drop-link {padding-left: 8px;}
#qualitymenu .header-drop-link:hover {text-decoration:none;color:#fff;background-color:#2a9fd6}
#leftpane-inner {margin-left:-10px !important;}

#addfromurl, #searchcontrol, #customembed, #playlistmanager {
    background-color: #272B30 !important;
}

audio#ytapiplayer {
    margin-left: 30%;
    margin-top: 25%;
    width: 40%;
}

/*  ----- Admin Font ----- */
.userlist_item > .userlist_owner,.userlist_item > .userlist_op {font-weight: normal !important; }

/* ----- Chat PM message -----*/
.pm-msg {color:#E5A3AD;}
.pm-msg em {font-size:10px;}

/* Scrollbar
Fuck Firefox */
::-webkit-scrollbar {
    width: 7px;
}

/* Track */
::-webkit-scrollbar-track {
    -webkit-box-shadow: inset 0 0 6px rgba(255,153,0,0);
    border-radius: 0px;
    background-color: #161a20;
}

/* Handle */
::-webkit-scrollbar-thumb {
    border-radius: 0px;
    background: rgba(255,153,0,1);
    box-shadow: inset 0 0 6px rgba(255,153,0,0.5);
}
::-webkit-scrollbar-thumb:window-inactive {
    background: rgba(255,153,0,0.6);
}

/* ----- Spin ----- */

.spin, .spintext, .spin2 {
    display: inline-block;
    transform: translateX(0%);
    animation: 5ms infinite linear spinClass;
}

@keyframes spinClass {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(360deg);
    }
}


/* ----- Playlist User & End Time ----- */

.qe_user, .qe_endTime {
    float:right;
    padding-right:3px;
}

/* ----- Nico chat ----- */
#vidchat {
    position:absolute;
    color:white;
    font-size: 14pt;
    text-shadow: -1px 0 black, 0 1px black, 1px 0 black, 0 -1px black;
    width: 2000px !important;
    top: 0px;
    right: 0px;
}

.text-marquee img {
    opacity:0.7;
}

.text-marquee {
    text-shadow:
    -1px -1px 0 #000,
    1px -1px 0 #000,
    -1px 1px 0 #000,
    1px 1px 0 #000;
    color: #FFFFFF !important;
    font-size: 20px;
    font-weight: bold;
    position: absolute;
    left: 100%;
    white-space: nowrap;
    transform: translateX(0%);
    width: 100%;
    animation: 30s forwards linear shift-full-left;
}
.has-effect-wonderland .text-marquee {
  text-shadow:
      -1px -1px 0 #003c05,
      1px -1px 0 #003c05,
      -1px 1px 0 #003c05,
      1px 1px 0 #003c05,
      0 0 0.5em #0b662c,
      0 0 1em #0b662c;
}
.has-effect-wonderland .text-marquee:nth-child(even) {
  text-shadow:
      -1px -1px 0 #7a0000,
      1px -1px 0 #7a0000,
      -1px 1px 0 #7a0000,
      1px 1px 0 #7a0000,
      0 0 0.5em #b0090c,
      0 0 1em #b0090c;
}

@keyframes shift-full-left {
    100% {
        transform: translateX(-600%);
    }
}

/* ----- Body and main container ----- */

body {overflow-x:hidden}
#mainpage {padding-top:52px}

/* ----- Main rows ----- */

#motdrow, #announcements, #main, #playlistrow {border:solid 2px transparent; margin-bottom:5px}
#main > div, #playlistrow > div {padding-left:5px; padding-right:5px; margin-top:5px; margin-bottom:5px}

/* ----- Buttons ----- */

.btn {text-shadow:none}

/* ----- Brand ----- */

.navbar-brand {cursor:default}

/* ----- MOTD row ----- */

#motdwrap {margin:5px -10px}

/* ----- MOTD ----- */

#motdwrap {padding:10px; border-color:black; box-shadow:none}
#togglemotd {margin-top:-5px}

/* ----- Announcements ----- */

#announcements .alert {margin:0px -10px 5px}

/* ----- Drinkbar ----- */

#drinkcount {margin:0px}

/* ----- Userlist ----- */

.userlist_item {cursor:pointer}

/* ----- Playlist row inner panes ----- */

#rightpane, #leftpane {margin-top:5px !important; margin-bottom:5px !important}

/* ----- Default left pane wells ----- */

#leftpane .well {margin-bottom:5px}

/* ----- Queue titles ----- */

.qe_title {margin-left:4px}

/* ----- Footer ----- */

#footer {height:auto}

/* ----- CyTube Plus selectors ----- */

#chanavatar {margin-right:3px; margin-top:-4px}

#attbarrow-outer {padding:0px 5px}
#attbar {height:22px; background-color:white}

#titlerow {
    background-position:0px center;
    background-size:0% 100%; background-repeat:no-repeat;
    margin:-5px -8px 5px;
    border-radius:4px;
}

#titlerow-outer {padding:3px 5px; text-align:center; font-size:16pt; color:black; }

#titlerow #currenttitle {
    border:none;
}

#mediainfo {
    background-color: #1C1E22; margin-bottom:0px; border-width: 1px 1px 0px; border-style:solid solid none;
    border-color:black; border-radius:5px 5px 0px 0px;
}

#coverpl {
    position:absolute; left:5px; top:0px; background-color:white;
    background-position:center center;
}
#redirectPlayer {
    position:absolute; left:0px; top:0px; background-color:white;
    background-position:center center; cursor:pointer;
}

#leftpanecontrols {margin-right:-4px}
#layout-btn {margin-right:10px}
#fluid-btn {margin-right:10px}

#configwrap, #modewrap, #themewrap {text-align:left}
#configwrap {padding-left:10px !important;}
#mode-sel, #theme-sel {width:80%; margin:0px auto}
.theme-header {text-align:center; font-size:9pt; font-style:italic}
footer {padding-bottom:5px}
#leftfooter {font-size:10pt; margin-bottom:50px}
#rightfooter {float:right; margin-top:-50px}

#chatfunc-dropdown {
    position:absolute; top:22px; display:block; z-index:10000; padding:5px;
    overflow:auto; margin-right:5px;
}

/*Reddit flair*/
.username::before{background:url('./Images/tiger.png');}
.teamtaiga::before{background:url('./Images/taiga.png');}
.teamami::before{background:url('./Images/ami.png');}
.teamminori::before{background:url('./Images/minori.png');}
.teaminko::before{background:url('./Images/inko.png');}
.teamkitamura::before{background:url('./Images/kitamura.png');}
.teamkihara::before{background:url('./Images/kihara.png');}
.teamharuta::before{background:url('./Images/haruta.png');}
.teamsensei::before{background:url('./Images/sensei.png');}
.teammom::before{background:url('./Images/mom.png');}
.teamryuuji::before{background:url('./Images/ryuuji.png');}
.teamhidaka::before{background:url('./Images/Hidaka.png');}
.teamono::before{background:url('./Images/Ono.png');}
.teamshiina::before{background:url('./Images/shiina.png');}
.teamaoyama::before{background:url('./Images/aoyama.png');}
.teammommy::before{background:url('./Images/mommy.png');}
.teamonoeesan::before{background:url('./Images/onoeesan.png');}
.teampengin::before{background:url('./Images/pengin.png');}
.chat-msg-_North .username:not([class*="team"])::before {
background:url('./Images/kagami.ico');
}
.chat-msg-ShizuruAnon .username::before {
background:url('./Images/shiz_icon.png');
}
.chat-msg-tsukarin .username::before, .chat-msg-tsukat .username::before {
background:url('./Images/wafu_icon.png');
}
.chat-msg-Happy .username:not([class*="team"])::before {
background:url('./Images/miku-padoru.png');
}
.username::before{
    content:"AA";
    background-size:20px 20px !important;
    background-repeat:no-repeat !important;
    color:rgba(0,0,0,0);
}
#messagebuffer>div{font-size:18px;}

/* ----- Additional jQuery classes ----- */

.relative {position:relative}

.covered {visibility:hidden; opacity:0}

.dist {background-color:gold; color:red; font-size:12pt; padding:3px}

span.glyphicon.glyphicon-time {
    color: rgba(255,0,0,0);
    background: url("./Images/zzz.png");}

/* Snow and ERABE effect below */

.c-effect_erabe, .c-effect_erabe:nth-child(3n-2) {
  font-family: Arial, Helvetica, sans-serif;
  font-weight: bold;
  font-size: 64px;
  text-transform: uppercase;
  color: darkred;
  position: fixed;
  z-index: var(--z-effects);

  padding: 8px 16px;
  width: 420px;
  max-width: 50vw;
  text-align: center;
  border: 8px solid hsl(214, 72%, 48%);
  border-radius: 16px;
  color: #000;
  background-image: repeating-linear-gradient(
      45deg, hsl(217, 39%, 74%), hsl(217, 39%, 74%) 15px,
      hsl(216, 45%, 53%) 10px, hsl(216, 45%, 53%) 20px );

  opacity: 0.8;
  transform: scale(1);
  animation: effect__pulse-blue 750ms ease-out infinite;
}
.c-effect_erabe:nth-child(3n-1) {
  background-image: repeating-linear-gradient(
      45deg, hsl(313, 88%, 84%), hsl(313, 88%, 84%) 15px,
      hsl(312, 83%, 68%) 10px, hsl(312, 83%, 68%) 20px);
  border-color: hsl(306, 91%, 60%);
  animation-name: effect__pulse-pink;
}
.c-effect_erabe:nth-child(3n) {
  background-image: repeating-linear-gradient(
      45deg, hsl(85, 24%, 63%), hsl(85, 24%, 63%) 15px,
      hsl(83, 31%, 54%) 10px, hsl(83, 31%, 54%) 20px);
  border-color: hsl(82, 47%, 41%);
  animation-name: effect__pulse-pink;
}
@media (max-width: 600px) {
  .c-effect_erabe {
    font-size: 48px;
  }
}

@keyframes effect__pulse-blue {
  0% {
    transform: scale(0.80);
    box-shadow: 0 0 0 0 hsla(214, 72%, 48%, 0.7);
  }

  70% {
    transform: scale(1);
    box-shadow: 0 0 0 10px hsla(214, 72%, 48%, 0);
  }

  100% {
    transform: scale(0.80);
    box-shadow: 0 0 0 0 hsla(214, 72%, 48%, 0);
  }
}
@keyframes effect__pulse-pink {
  0% {
    transform: scale(0.80);
    box-shadow: 0 0 0 0 hsla(306, 91%, 60%, 0.7);
  }

  70% {
    transform: scale(1);
    box-shadow: 0 0 0 10px hsla(306, 91%, 60%, 0);
  }

  100% {
    transform: scale(0.80);
    box-shadow: 0 0 0 0 hsla(306, 91%, 60%, 0);
  }
}
@keyframes effect__pulse-green {
  0% {
    transform: scale(0.80);
    box-shadow: 0 0 0 0 hsla(82, 47%, 41%, 0.7);
  }

  70% {
    transform: scale(1);
    box-shadow: 0 0 0 10px hsla(82, 47%, 41%, 0);
  }

  100% {
    transform: scale(0.80);
    box-shadow: 0 0 0 0 hsla(82, 47%, 41%, 0);
  }
}

.c-effect__snowflake {
  color: #fff;
  font-size: 1em;
  font-family: Arial, sans-serif;
  text-shadow: 0 0 2px rgba(50, 50, 50, 0.70);
  z-index: var(--z-effects);
  user-select: none;
  cursor: default;

  animation: effect__snowflake-shake 3s infinite ease-in-out;
}
.c-effect__snowflake.type2 { animation-duration: 4s; }
.c-effect__snowflake.type3 { animation-duration: 5s; }
.c-effect__snowflake.type4 { animation-duration: 6s; }

.c-effect__snowflake-outer {
  position: fixed;
  top: -2em;
  left: 0;
  animation: effect__snowflake-fall 12s linear forwards;
}

@keyframes effect__snowflake-shake {
  0% { transform: translateX(0); }
  50% { transform: translateX(80px); }
  100% { transform: translateX(0); }
}
@keyframes effect__snowflake-fall {
  0% { transform: translateY(0); }
  100% { transform: translateY(110vw); }
}

.c-effect__padoru {
  animation: effect__padoru-spin 2s linear infinite;
  transform-origin: center;
  width: 56px;
  height: 56px;
  z-index: var(--z-effects);
  user-select: none;
  pointer-events: none;
  opacity: 0.80;
}
.c-effect__padoru-shake {
  animation: effect__padoru-shake 4s ease-in-out infinite;
}
.c-effect__padoru-outer {
  position: fixed;
  top: -56px;
  left: 0;
  animation: effect__padoru-fall 12s linear forwards;
}
.type2 .c-effect__padoru-shake { animation-duration: 6s; }
.type3 .c-effect__padoru-shake { animation-duration: 7s; }
.type4 .c-effect__padoru-shake { animation-duration: 8s; }

.type2 .c-effect__padoru { animation-duration: 1s; }
.type3 .c-effect__padoru { animation-duration: 2.5s; }
.type4 .c-effect__padoru { animation-duration: 3.5s; }

@keyframes effect__padoru-spin {
  100% { transform: rotateY(360deg); }
}
@keyframes effect__padoru-fall {
  0% { transform: translateY(0); }
  100% { transform: translateY(calc(100vh + 56px)); }
}
@keyframes effect__padoru-shake {
  0% { transform: translateX(0); }
  50% { transform: translateX(40px); }
  100% { transform: translateX(0); }
}

.c-effect__presents-label {
    position: fixed;
    margin: auto;
    width: 100%;
    bottom: 50%;
    animation-timing-function: linear;
    animation-name: presents-label-blink;
    animation-duration: 1s;
    animation-iteration-count: 5;
    font-size: 64px;
    font-size: 10vw;
    font-family: Comic Sans;
        text-shadow: -2px 0 black, 0 2px black, 2px 0 black, 0 -2px black;
    text-align: center;
}

@keyframes presents-label-blink {
    0% {opacity: 100;}
    50% {opacity: 0;}
    100% {opacity: 100;}
}

.c-effect__presents-face-outer {
    position: fixed;
    left: 30%;
    bottom: -180px;
    animation-timing-function: linear;
    animation-name: effect__presents-face-move;
    animation-duration: 33.5s;
}

@keyframes effect__presents-face-move {
    0% { transform: translateX(-250px) translateY(0);}
    1% { transform: translateX(-250px) translateY(-175px);}
    43% {transform: translateX(500px) translateY(-175px);}
    86% {transform: translateX(-250px) translateY(-175px);}

    91% {transform: translateX(350px) translateY(-175px);}
    95% {transform: translateX(-250px) translateY(-175px);}
    100% {transform: translateX(350px) translateY(0);}
}

.c-effect__presents-face-inner {
  z-index: var(--z-effects);
    user-select: none;
    pointer-events: none;
    opacity: 0.95;
    height: 175px;
    width: 175px;
    animation-timing-function: linear;
    animation-name: effect__presents-face-spin;
    animation-duration: 33.5s;
}

.c-effect__presents-face-fling {
    z-index:9999;
    user-select: none;
    pointer-events: none;
    opacity: 0.9;
    height: 50px;
    width: 50px;
    animation-timing-function: linear;
    animation-name: effect__presents-face-fling1;
    animation-duration: 33.5s;
}

.c-effect__presents-face-fling-type1 {
    animation-name: effect__presents-face-fling1;
}
.c-effect__presents-face-fling-type2 {
    animation-name: effect__presents-face-fling2;
}
.c-effect__presents-face-fling-type3 {
    animation-name: effect__presents-face-fling3;
}


@keyframes effect__presents-face-fling1{
    0% {transform: translateX(-87.5px) translateY(-2200px);}
    3.499% {transform: translateX(-87.5px) translateY(-2200px);}
    3.5% {transform: translateX(-87.5px) translateY(0);}
    7% {transform: translateX(-87.5px) translateY(-2200px);}

    11.499% {transform: translateX(-87.5px) translateY(-2200px);}
    11.5% {transform: translateX(-87.5px) translateY(0);}
    15% {transform: translateX(-87.5px) translateY(-2200px);}

    19.499% {transform: translateX(-87.5px) translateY(-2200px);}
    19.5% {transform: translateX(-87.5px) translateY(0);}
    23% {transform: translateX(-87.5px) translateY(-2200px);}

    27.499% {transform: translateX(-87.5px) translateY(-2200px);}
    27.5% {transform: translateX(-87.5px) translateY(0);}
    31% {transform: translateX(-87.5px) translateY(-2200px);}

    35.499% {transform: translateX(-87.5px) translateY(-2200px);}
    35.5% {transform: translateX(-87.5px) translateY(0);}
    39% {transform: translateX(-87.5px) translateY(-2200px);}

    42.999% {transform: translate(-87.5px) translateY(-2200px);}
    43.5% {transform: translate(-87.5px) translateY(0);}
    47% {transform: translateX(-87.5px) translateY(-2200px);}

    53.499% {transform: translateX(-87.5px) translateY(-2200px);}
    53.5% {transform: translate(-87.5px) translateY(0);}
    57% {transform: translateX(-87.5px) translateY(-2200px);}

    64.499% {transform: translateX(-87.5px) translateY(-2200px);}
    64.5% {transform: translate(-87.5px) translateY(0);}
    68% {transform: translateX(-87.5px) translateY(-2200px);}

    75.499% {transform: translateX(-87.5px) translateY(-2200px);}
    75.5% {transform: translate(-87.5px) translateY(0);}
    79% {transform: translateX(-87.5px) translateY(-2200px);}

    100% {transform: translateX(-87.5px) translateY(-2200px);}
}
@keyframes effect__presents-face-fling2{
    0% {transform: translateX(-112.5px) translateY(-2200px);}
    3.499% {transform: translateX(-112.5px) translateY(-2200px);}
    3.5% {transform: translateX(-112.5px) translateY(0);}
    7% {transform: translateX(-600px) translateY(-2200px);}

    11.499% {transform: translateX(-112.5px) translateY(-2200px);}
    11.5% {transform: translateX(-112.5px) translateY(0);}
    15% {transform: translateX(-600px) translateY(-2200px);}

    19.499% {transform: translateX(-112.5px) translateY(-2200px);}
    19.5% {transform: translateX(-112.5px) translateY(0);}
    23% {transform: translateX(-600px) translateY(-2200px);}

    27.499% {transform: translateX(-112.5px) translateY(-2200px);}
    27.5% {transform: translateX(-112.5px) translateY(0);}
    31% {transform: translateX(-600px) translateY(-2200px);}

    35.499% {transform: translateX(-112.5px) translateY(-2200px);}
    35.5% {transform: translateX(-112.5px) translateY(0);}
    39% {transform: translateX(-600px) translateY(-2200px);}

    42.999% {transform: translate(-112.5px) translateY(-2200px);}
    43.5% {transform: translate(-112.5px) translateY(0);}
    47% {transform: translateX(-600px) translateY(-2200px);}

    53.499% {transform: translateX(-112.5px) translateY(-2200px);}
    53.5% {transform: translate(-112.5px) translateY(0);}
    57% {transform: translateX(-600px) translateY(-2200px);}

    64.499% {transform: translateX(-112.5px) translateY(-2200px);}
    64.5% {transform: translate(-112.5px) translateY(0);}
    68% {transform: translateX(-600px) translateY(-2200px);}

    75.499% {transform: translateX(-112.5px) translateY(-2200px);}
    75.5% {transform: translate(-112.5px) translateY(0);}
    79% {transform: translateX(-600px) translateY(-2200px);}

    100% {transform: translateX(-600px) translateY(-2200px);}
}
@keyframes effect__presents-face-fling3{
    0% {transform: translateX(-162.5px) translateY(-2200px);}
    3.499% {transform: translateX(-162.5px) translateY(-2200px);}
    3.5% {transform: translateX(-162.5px) translateY(0);}
    7% {transform: translateX(600px) translateY(-2200px);}

    11.499% {transform: translateX(-162.5px) translateY(-2200px);}
    11.5% {transform: translateX(-162.5px) translateY(0);}
    15% {transform: translateX(600px) translateY(-2200px);}

    19.499% {transform: translateX(-162.5px) translateY(-2200px);}
    19.5% {transform: translateX(-162.5px) translateY(0);}
    23% {transform: translateX(600px) translateY(-2200px);}

    27.499% {transform: translateX(-162.5px) translateY(-2200px);}
    27.5% {transform: translateX(-162.5px) translateY(0);}
    31% {transform: translateX(600px) translateY(-2200px);}

    35.499% {transform: translateX(-162.5px) translateY(-2200px);}
    35.5% {transform: translateX(-162.5px) translateY(0);}
    39% {transform: translateX(600px) translateY(-2200px);}

    42.999% {transform: translate(-162.5px) translateY(-2200px);}
    43.5% {transform: translate(-162.5px) translateY(0);}
    47% {transform: translateX(600px) translateY(-2200px);}

    53.499% {transform: translateX(-162.5px) translateY(-2200px);}
    53.5% {transform: translate(-162.5px) translateY(0);}
    57% {transform: translateX(600px) translateY(-2200px);}

    64.499% {transform: translateX(-162.5px) translateY(-2200px);}
    64.5% {transform: translate(-162.5px) translateY(0);}
    68% {transform: translateX(600px) translateY(-2200px);}

    75.499% {transform: translateX(-162.5px) translateY(-2200px);}
    75.5% {transform: translate(-162.5px) translateY(0);}
    79% {transform: translateX(600px) translateY(-2200px);}

    100% {transform: translateX(600px) translateY(-2200px);}
}


@keyframes effect__presents-face-spin{
    0% {transform: translateY(0) rotateY(0);}

    3% {transform: translateY(0) rotateY(0);}
    3.5% {transform: translateY(-10px) rotateY(180deg);}
    4% {transform: translateY(0) rotateY(0);}

    11% {transform: translateY(0) rotateY(0);}
    11.5% {transform: translateY(-10px) rotateY(180deg);}
    12% {transform: translateY(0) rotateY(0);}

    19% {transform: translateY(0) rotateY(0);}
    19.5% {transform: translateY(-10px) rotateY(180deg);}
    20% {transform: translateY(0) rotateY(0);}

    27% {transform: translateY(0) rotateY(0);}
    27.5% {transform: translateY(-10px) rotateY(180deg);}
    28% {transform: translateY(0) rotateY(0);}

    35% {transform: translateY(0) rotateY(0);}
    35.5% {transform: translateY(-10px) rotateY(180deg);}
    36% {transform: translateY(0) rotateY(0);}

    42% {transform: translateY(0) rotateY(0);}
    43% {transform: translateY(-10px) rotateY(360deg);}
    44% {transform: translateY(0) rotateY(180deg);}

    53% {transform: translateY(0) rotateY(180deg);}
    53.5% {transform: translateY(-10px) rotateY(0deg);}
    54% {transform: translateY(0) rotateY(180deg);}

    64% {transform: translateY(0) rotateY(180deg);}
    64.5% {transform: translateY(-10px) rotateY(0deg);}
    65% {transform: translateY(0) rotateY(180deg);}

    75% {transform: translateY(0) rotateY(180deg);}
    75.5% {transform: translateY(-10px) rotateY(0deg);}
    76% {transform: translateY(0) rotateY(180deg);}

    86% {transform: translateY(0) rotateY(180deg);}
    86.5% {transform: translateY(-10px) rotateY(-180deg);}
    87% {transform: translateY(0) rotateY(0deg);}

    91% {transform: translateY(0) rotateY(540deg);}
    95% {transform: translateY(0) rotateY(0deg);}
    100% {transform: translateY(0) rotateY(540deg);}
}


.c-effect__presents-present-fall {
    position: fixed;
    height: 15%;
    z-index: 10000;
    animation-name: effect__presents-fall1;
    animation-duration: 4s;
    animation-timing-function: linear;
    transform-origin: center;
    user-select: none;
    pointer-events: none;
    opacity: 0.95;
}
.c-effect__presents-present-fall-type1 {
    height: 30%;
    animation-name: effect__presents-fall1;
}
.c-effect__presents-present-fall-type2 {
    height: 20%;
    animation-name: effect__presents-fall2;
}
.c-effect__presents-present-fall-type3 {
    height: 25%;
    animation-name: effect__presents-fall3;
}
.c-effect__presents-present-fall-type4 {
    height: 23%;
    animation-name: effect__presents-fall4;
}
.c-effect__presents-present-fall-type5 {
    height: 18%;
    animation-name: effect__presents-fall5;
}
.c-effect__presents-present-fall-type6 {
    height: 23%;
    animation-name: effect__presents-fall6;
}
@keyframes effect__presents-fall1 {
  0% { bottom: 120%; transform: rotate(5deg);}
  100% { bottom: -30%; transform: rotate(45deg);}
}
@keyframes effect__presents-fall2 {
  0% { bottom: 120%; transform: rotate(0deg);}
  100% { bottom: -30%; transform: rotate(-45deg);}
}
@keyframes effect__presents-fall3 {
  0% { bottom: 120%; transform: rotate(45deg);}
  100% { bottom: -30%; transform: rotate(0deg);}
}
@keyframes effect__presents-fall4 {
  0% { bottom: 100%; transform: rotate(15deg);}
  100% { bottom: -30%; transform: rotate(-15deg);}
}
@keyframes effect__presents-fall5 {
  0% { bottom: 120%; transform: rotate(-30deg);}
  100% { bottom: -30%; transform: rotate(0deg);}
}
@keyframes effect__presents-fall6 {
  0% { bottom: 100%; transform: rotate(-5deg);}
  100% { bottom: -30%; transform: rotate(-30deg);}
}



.c-effect__christmas-wonderland {
  --navbar-height: 0px;

  /* Lightrope */
  --bulb-width: 14px;
  --bulb-height: 32px;
  --bulb-spacing: 40px;
  --bulb-spread: 3px;
  --bulb-off-opacity: 0.4;
  --bulb-hidden-in-socket: 6px;

  --socket-width: 12px;
  --socket-height: 10px;
  --socket-color: #444;
  --socket-top: 0; /* calc((var(--socket-height) - var(--bulb-hidden-in-socket)) * -1); */

  --light-color-blue: 42, 236, 241;
  --light-color-green: 29, 189, 59;
  --light-color-red: 236, 18, 53;
  --light-color-orange: 240, 157, 41;

  /* --light-alpha: 1; */
  --light-box-shadow-alpha: 0.5;
  --light-off-opacity: 0.5;


  /* Candy cane */
  --candy-cane-width: 12px;

  --lightrope-zindex: 1002;
  --candy-cane-zindex: 1001;


  /* Christmas tree */
  --christmas-tree-light-color-1: 248, 178, 41;
  --christmas-tree-light-color-2: 187, 37, 40;
  --christmas-tree-light-color-3: 250, 250, 250;

  --left-tree-z-index: 1300;
  --middle-tree-z-index: 1100;
  --right-tree-z-index: 1300;
  --kfc-z-index: 1200;

  --tree-width: 120px;
  --tree-big-width: 160px;

  --left-tree-x: 200px;
  --middle-tree-x: 95px;
  --right-tree-x: 25px;

  --kfc-x: 135px;
  --kfc-width: 80px;

  pointer-events: none;
}

/* -------------------------------- Lightrope ------------------------------- */
.c-effect__lightrope {
  display: flex;

  position: fixed;
  left: calc(var(--bulb-spacing) * -0.5);
  top: var(--navbar-height);
  z-index: var(--lightrope-zindex);

  margin: 0;
  padding: 0;
  padding-bottom: 20px;
  pointer-events: none;
  overflow: hidden;
  width: calc(100% + (var(--bulb-spacing) / 0.5));
}

.c-effect__lightrope-light {
  position: relative;
  flex: 0 0 auto;

  margin: 0 calc(var(--bulb-spacing) / 2);
  /* margin-top: calc(var(--socket-height) - var(--bulb-hidden-in-socket)); */
}
.c-effect__lightrope-light:first-child {
  margin-left: 4px;
}

.c-effect__lightrope-bulb {
  width: var(--bulb-width);
  height: var(--bulb-height);
  border-radius: 50%;

  background: rgb(var(--light-color-blue));
  box-shadow: 0px var(--bulb-hidden-in-socket) calc(var(--bulb-width) / 2) 5px rgba(var(--light-color-blue), var(--light-box-shadow-alpha));
  opacity: 1;

  will-change: opacity;
  animation: c-effect__light-flash both infinite 3s ease-in-out;
}

.c-effect__lightrope-light:nth-child(2n) .c-effect__lightrope-bulb {
  background: rgb(var(--light-color-green));
  box-shadow: 0px var(--bulb-hidden-in-socket) calc(var(--bulb-width) / 2) 5px rgba(var(--light-color-green), var(--light-box-shadow-alpha));
}
.c-effect__lightrope-light:nth-child(4n) .c-effect__lightrope-bulb {
  background: rgb(var(--light-color-red));
  box-shadow: 0px var(--bulb-hidden-in-socket) calc(var(--bulb-width) / 2) 5px rgba(var(--light-color-red), var(--light-box-shadow-alpha));
}
.c-effect__lightrope-light:nth-child(8n) .c-effect__lightrope-bulb {
  background: rgb(var(--light-color-orange));
  box-shadow: 0px var(--bulb-hidden-in-socket) calc(var(--bulb-width) / 2) 5px rgba(var(--light-color-orange), var(--light-box-shadow-alpha));
}

/* Timings */
.c-effect__lightrope-light:nth-child(2n+1) .c-effect__lightrope-bulb {
  animation-duration: 0.6s;
}
.c-effect__lightrope-light:nth-child(4n+2) .c-effect__lightrope-bulb {
  animation-duration: 1.2s;
}
.c-effect__lightrope-light:nth-child(odd) .c-effect__lightrope-bulb {
  animation-duration: 2.3s;
}
.c-effect__lightrope-light:nth-child(3n+1) .c-effect__lightrope-bulb {
  animation-duration: 1.6s;
}

/* Bulb socket */
.c-effect__lightrope-socket {
  position: absolute;
  top: var(--socket-top);
  left: calc((var(--bulb-width) - var(--socket-width)) / 2);

  width: var(--socket-width);
  height: var(--socket-height);

  background-color: var(--socket-color);
  border-radius: 3px;
}

/* Bulb rope */
.c-effect__lightrope-rope {
  position: absolute;
  top: -2px;
  left: calc(var(--bulb-width) - 4px);

  width: calc(var(--bulb-spacing) + 8px);
  height: var(--socket-height);
  border-bottom: solid var(--socket-color) 2px;
  border-radius: 50%;
}
/* Only show the rope for the first child */
.c-effect__lightrope-light:first-child .c-effect__lightrope-bulb,
.c-effect__lightrope-light:first-child .c-effect__lightrope-socket {
  display: none;
}

@keyframes c-effect__light-flash {
  0%, 100% {
    opacity: var(--light-off-opacity);
  }
  50% {
    opacity: 1;
  }
}

/* ------------------------------- Candy canes ------------------------------ */
.c-candy-cane {
  position: fixed;
  top: var(--navbar-height);
  left: 0;
  bottom: 0;
  width: var(--candy-cane-width);
  overflow: hidden;
  border-radius: calc(var(--candy-cane-width) / 2) calc(var(--candy-cane-width) / 2) 2px 2px;
  z-index: var(--candy-cane-zindex);
}
.c-candy-cane--right {
  left: auto;
  right: 0;
}

.c-candy-cane-ring {
  padding-top: 100%;
  background-color: #fff;
  transform: skewY(35deg) translateY(-50%);
}

.c-candy-cane-ring--red {
  background-color: #ff0000;
}

/* ----------------------------- Christmas trees ---------------------------- */
.c-christmas-tree {
  position: fixed;
  bottom: 0;
  right: var(--left-tree-x);
  width: var(--tree-width);
}
.c-christmas-tree__tree {
  fill: #165b33;
}

.c-christmas-tree--left {
  filter: drop-shadow(2px 4px 6px #212121);
  z-index: var(--left-tree-z-index);
  right: var(--left-tree-x);
}
.c-christmas-tree--middle {
  width: var(--tree-big-width);
  z-index: var(--middle-tree-z-index);
  right: var(--middle-tree-x);
}
.c-christmas-tree--right {
  filter: drop-shadow(-2px -4px 6px #212121);
  z-index: var(--right-tree-z-index);
  right: var(--right-tree-x);
}

.c-christmas-tree--middle .c-christmas-tree__tree {
  fill: #114627;
}



.c-christmas-tree__light {
  --christmas-tree-light-color: var(--christmas-tree-light-color-1);

  position: absolute;
  border-radius: 50%;
  background-color: rgba(var(--christmas-tree-light-color), 1);
  box-shadow: 0 0 6px rgba(255, 255, 255, 0.5);
  opacity: 1;

  will-change: opacity;
  animation: c-christmas-tree-lights-glow both infinite 2.5s ease-in-out;
}
.c-christmas-tree__light:after {
  content: "";
  display: block;
  padding-top: 100%;
}

.c-christmas-tree__light--2 {
  --christmas-tree-light-color: var(--christmas-tree-light-color-2);
}
.c-christmas-tree__light--3 {
  --christmas-tree-light-color: var(--christmas-tree-light-color-3);
}

.c-christmas-tree__light {
  animation-duration: 3s;
}
.c-christmas-tree__light:nth-child(2n) {
  animation-duration: 2s;
}
.c-christmas-tree__light:nth-child(3n) {
  animation-duration: 2.5s;
}
.c-christmas-tree__light:nth-child(4n) {
  animation-duration: 1.5s;
}

@keyframes c-christmas-tree-lights-glow {
  0%, 100% {
    opacity: 0.5;
  }
  50% {
    opacity: 1;
  }
}


.c-kfc-bucket {
  position: fixed;
  width: var(--kfc-width);
  bottom: 0;
  right: var(--kfc-x);
  z-index: var(--kfc-z-index);
}
.c-kfc-bucket img {
  width: 100%;
}


.c-effect__snow-canvas {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;

  pointer-events: none;
  z-index: 1000000;
}


/* --------------------------- Ghost banri effect --------------------------- */
.c-effect__banri {
  width: 280px;
  max-width: 40%;
  position: fixed;
  top: 0;
  left: 0;

  pointer-events: none;
  z-index: var(--z-effects);

  animation: c-effect__banri__fade 10s linear forwards;
  will-change: opacity;
}

@keyframes c-effect__banri__fade {
  0% {
    opacity: 0;
  }
  15% {
    opacity: 0.2;
  }
  17% {
    opacity: 0.6;
  }
  19% {
    opacity: 0;
  }

  55% {
    opacity: 0.1;
  }
  57% {
    opacity: 0.5;
  }
  59% {
    opacity: 0;
  }

  100% {
    opacity: 0.3;
  }
}

/* -------------------------------------------------------------------------- */
/*                                Arcade theme                                */
/* -------------------------------------------------------------------------- */
@font-face {
  font-family: 'Retro Gaming';
  src: url('./fonts/RetroGaming.woff2') format('woff2');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

html.is-arcade-theme body {
  font-family: 'Retro Gaming';
  font-size: 14px;
}
html.is-arcade-theme #messagebuffer > div {
  font-size: 14px;
}
html.is-arcade-theme .form-control {
  font-size: 14px;
}
html.is-arcade-theme select.form-control {
  font-size: 12px;
}

html.is-arcade-theme .btn {
  font-size: 14px;
}
html.is-arcade-theme .btn-sm {
  font-size: 12px;
}

html.is-arcade-theme .h1,
html.is-arcade-theme .h2,
html.is-arcade-theme .h3,
html.is-arcade-theme .h4,
html.is-arcade-theme .h5,
html.is-arcade-theme .h6,
html.is-arcade-theme h1,
html.is-arcade-theme h2,
html.is-arcade-theme h3,
html.is-arcade-theme h4,
html.is-arcade-theme h5,
html.is-arcade-theme h6 {
  font-family: "Retro Gaming";
}

html.is-arcade-theme .h1,
html.is-arcade-theme .h2,
html.is-arcade-theme .h3,
html.is-arcade-theme .h4,
html.is-arcade-theme .h5,
html.is-arcade-theme .h6,
html.is-arcade-theme h1,
html.is-arcade-theme h2,
html.is-arcade-theme h3,
html.is-arcade-theme h4,
html.is-arcade-theme h5,
html.is-arcade-theme h6 {
  font-family: "Retro Gaming";
}

html.is-arcade-theme .h1,
html.is-arcade-theme h1 {
  font-size: 24px;
}

html.is-arcade-theme .h2,
html.is-arcade-theme h2 {
  font-size: 20px;
}

html.is-arcade-theme .h3,
html.is-arcade-theme h3 {
  font-size: 28px;
}

html.is-arcade-theme .h4,
html.is-arcade-theme h4 {
  font-size: 16px;
}

html.is-arcade-theme .h5,
html.is-arcade-theme h5 {
  font-size: 14px;
}

html.is-arcade-theme .h6,
html.is-arcade-theme h6 {
  font-size: 12px;
}

.c-arcade__health-score {
  top: 56px;
  left: 0;

  background-color: rgba(0, 0, 0, 0.8);
  padding: 4px;
}

.c-arcade__scores {
  width: 100%;
  justify-content: space-between;

  display: flex;
  gap: 16px;
  align-items: flex-end;
  margin-bottom: 4px;
}

html.is-arcade-theme .navbar {
  font-size: 12px;
}
html.is-arcade-theme .navbar-brand {
  font-size: 12px;
}

.c-arcade__scores > * {
  font-size: 36px;
  line-height: 1.2;
  background: linear-gradient(180deg, #FFFED3 0, #F4C54B 35%, #E7849B 80%);
  -webkit-background-clip: text;
          background-clip: text;
  -webkit-text-fill-color: transparent;
}
.c-arcade__score {
  flex-shrink: 0;
}

html.is-arcade-theme #motdrow {
  display: none;
}

.c-arcade__k-o-text {
  width:100%;
  height: 100%;
  min-height: 80px;
  background-color: #000;
  border-radius: 3px;
  border: 5px solid #fff;
  color: #C92B1D;
  font-size: 32px;
  text-align: center;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
}

.c-arcade__health-bar {
  height: 32px;
  background-color: #AC241E;
  border: 3px solid #fff;
  position: relative;
}

.c-arcade__health-bars {
  width: 100%;
  display: grid;
  grid-template-columns: 1fr 120px 1fr;
}

.c-arcade__left-bars, .c-arcade__right-bars {
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 8px 0;
  padding: 12px 0;
}

.c-arcade__left-bars .c-arcade__health-bar {
  border-right: 0;
}

.c-arcade__right-bars .c-arcade__health-bar {
  border-left
  : 0;
}

.c-arcade__health-bar-health {
  background-color: #e5e600;
  position: absolute;
  right: 0;
  z-index: 1;
  top: 0;
  width: 100%;
  height: 100%;

  transition: width 500ms ease-out;
}

.c-arcade__health-bar-text {
  color: #fff;
  font-size: 18px;
  text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;
  position: absolute;
  z-index: 2;
  top: 0;
  left: 0;
  overflow: hidden;
  height: 26px;
  line-height: 26px;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: 100%;
  padding: 0 4px;
}
.c-arcade__health-bar-text.is-long {
  font-size: 14px;
}

.c-arcade__right-bars .c-arcade__health-bar-text {
  left: auto;
  right: 0;
}

.c-arcade__right-bars .c-arcade__health-bar-health {
  right: auto;
  left: 0;
}


/* -------------------------------------------------------------------------- */
/*                                Loopy effect                                */
/* -------------------------------------------------------------------------- */
/* -------------------------------------------------------------------------- */
/*                                Loopy effect                                */
/* -------------------------------------------------------------------------- */
.c-loopy-container {
  position: relative;
  transform-style: preserve-3d;
  backface-visibility: visible;
  perspective: 1000px;
  z-index: 1;
  transition: all 0.5s ease-out;
}

html.has-loopy-effect {
  animation: loopyWarp 12s infinite ease-in-out;
  transform-style: preserve-3d;
  perspective: 1000px;
  transition: all 3s ease-in-out;
  isolation: isolate;
  transform-style: flat;
}

/* For chaos mode, use shorter transitions */
html.has-loopy-effect-chaos {
  transition: --loopy-random-1 0.5s ease-in-out,
              --loopy-random-2 0.5s ease-in-out,
              --loopy-random-3 0.5s ease-in-out,
              --loopy-random-4 0.5s ease-in-out,
              --loopy-random-5 0.5s ease-in-out;
}

html.has-loopy-effect body {
  animation: loopyDistort 8s infinite ease-in-out;
  transform-origin: center center;
}

html.has-loopy-effect .c-loopy-container {
  animation: loopyContainer 8s infinite ease-in-out;
}

/* Modify the chaos mode animation to be less extreme and preserve visibility */
html.has-loopy-effect-chaos * {
  /* Remove the previous animation */
  animation: none;
  /* Keep elements visible */
  backface-visibility: visible !important;
  transform-style: preserve-3d;
  /* Ensure elements stay above background */
  z-index: 1;
}

/* Apply chaos effect to the body instead of all elements */
html.has-loopy-effect-chaos body {
  animation: loopyChaos 3s infinite ease-in-out;
  /* Constrain the perspective to prevent elements from going too far */
  perspective: 1000px;
  transform-style: preserve-3d;
}

@keyframes loopyContainer {
  0%, 100% {
    transform:
      perspective(1000px)
      rotateX(calc(var(--loopy-random-1) * 3deg))
      rotateY(calc(var(--loopy-random-2) * 3deg))
      translateZ(calc(var(--loopy-random-3) * 10px))
      scale(calc(0.98 + var(--loopy-random-4) * 0.04));
    filter:
      hue-rotate(calc(var(--loopy-random-5) * 30deg))
      saturate(calc(100% + var(--loopy-random-1) * 50%));
  }
  50% {
    transform:
      perspective(1000px)
      rotateX(calc(var(--loopy-random-2) * -3deg))
      rotateY(calc(var(--loopy-random-1) * -3deg))
      translateZ(calc(var(--loopy-random-3) * -10px))
      scale(calc(1.02 + var(--loopy-random-4) * 0.04));
    filter:
      hue-rotate(calc(var(--loopy-random-5) * -30deg))
      saturate(calc(100% + var(--loopy-random-2) * 50%));
  }
}

/* Add to the existing loopyWarp animation */
@keyframes loopyWarp {
  0%, 100% {
    filter:
      contrast(calc(100% + var(--loopy-random-1) * 20%))
      blur(calc(var(--loopy-random-3) * 0.5px)); /* Subtle blur */
    transform:
      scale(calc(1 + var(--loopy-random-3) * 0.02))
      skew(calc(var(--loopy-random-4) * 1deg));
  }
  50% {
    filter:
      contrast(calc(100% + var(--loopy-random-2) * 20%))
      blur(calc(var(--loopy-random-4) * 0.8px)); /* Slightly stronger blur */
    transform:
      scale(calc(1 - var(--loopy-random-3) * 0.02))
      skew(calc(var(--loopy-random-4) * -1deg));
  }
}

@keyframes loopyDistort {
  0%, 100% {
    transform: perspective(800px)
              rotateX(calc(var(--loopy-random-1) * 2deg))
              rotateY(calc(var(--loopy-random-2) * 2deg))
              translateZ(calc(var(--loopy-random-3) * 20px));
  }
  25% {
    transform: perspective(800px)
              rotateX(calc(3deg + var(--loopy-random-1) * 2deg))
              rotateY(calc(-3deg + var(--loopy-random-2) * 2deg))
              translateZ(calc(50px + var(--loopy-random-3) * 20px));
  }
  50% {
    transform: perspective(800px)
              rotateX(calc(-3deg - var(--loopy-random-1) * 2deg))
              rotateY(calc(3deg - var(--loopy-random-2) * 2deg))
              translateZ(calc(-30px - var(--loopy-random-3) * 20px));
  }
  75% {
    transform: perspective(800px)
              rotateX(calc(3deg + var(--loopy-random-1) * 2deg))
              rotateY(calc(-3deg + var(--loopy-random-2) * 2deg))
              translateZ(calc(50px + var(--loopy-random-3) * 20px));
  }
}

/* Chaos mode with enhanced effects */
html.has-loopy-effect-chaos .c-loopy-container {
  animation: loopyContainerChaos 4s infinite ease-in-out;
}

/* Add to the existing loopyContainerChaos animation */
@keyframes loopyContainerChaos {
  0%, 100% {
    transform:
      perspective(800px)
      rotateX(calc(var(--loopy-random-1) * 5deg))
      rotateY(calc(var(--loopy-random-2) * 5deg))
      translateZ(calc(var(--loopy-random-3) * 20px))
      scale(calc(0.95 + var(--loopy-random-4) * 0.1));
    filter:
      hue-rotate(calc(var(--loopy-random-5) * 360deg))
      saturate(calc(100% + var(--loopy-random-1) * 100%))
      blur(calc(var(--loopy-random-3) * 1px)); /* More intense blur for chaos */
  }
  50% {
    transform:
      perspective(800px)
      rotateX(calc(var(--loopy-random-2) * -5deg))
      rotateY(calc(var(--loopy-random-1) * -5deg))
      translateZ(calc(var(--loopy-random-3) * -20px))
      scale(calc(1.05 + var(--loopy-random-4) * 0.1));
    filter:
      hue-rotate(calc(var(--loopy-random-5) * -360deg))
      saturate(calc(100% + var(--loopy-random-2) * 100%))
      blur(calc(var(--loopy-random-4) * 1.5px)); /* Stronger blur at peak */
  }
}

/* Add to the existing loopyChaos animation */
@keyframes loopyChaos {
  0%, 100% {
    filter:
      hue-rotate(calc(var(--loopy-random-1) * 360deg))
      contrast(calc(100% + var(--loopy-random-2) * 30%))
      blur(calc(var(--loopy-random-5) * 2px)); /* Strong chaos blur */
    transform: scale(calc(1 + var(--loopy-random-1) * 0.03))
              translateZ(calc(var(--loopy-random-2) * 10px))
              rotate(calc(var(--loopy-random-3) * 2deg));
  }
  33% {
    filter:
      hue-rotate(calc(120deg + var(--loopy-random-1) * 360deg))
      contrast(130%)
      blur(calc(var(--loopy-random-4) * 1.5px));
    transform: scale(calc(1.02 + var(--loopy-random-1) * 0.03))
              translateZ(calc(10px + var(--loopy-random-2) * 10px))
              rotateX(calc(2deg + var(--loopy-random-3) * 2deg))
              rotateY(1deg);
  }
  66% {
    filter:
      hue-rotate(calc(240deg + var(--loopy-random-1) * 360deg))
      contrast(120%)
      blur(calc(var(--loopy-random-3) * 1px));
    transform: scale(calc(0.98 - var(--loopy-random-1) * 0.03))
              translateZ(calc(-10px - var(--loopy-random-2) * 10px))
              rotateX(calc(-2deg - var(--loopy-random-3) * 2deg))
              rotateY(-1deg);
  }
}

/* Enhanced rainbow text effect for chaos mode */
html.has-loopy-effect-chaos p,
html.has-loopy-effect-chaos span,
html.has-loopy-effect-chaos div {
  animation: loopyRainbow 3s infinite linear;
  transform-style: preserve-3d;
}

@keyframes loopyRainbow {
  0% {
    text-shadow: 2px 2px 0 rgba(255,0,0,0.7),
                -2px -2px 0 rgba(0,255,255,0.7);
  }
  33% {
    text-shadow: -2px 2px 0 rgba(0,255,0,0.7),
                 2px -2px 0 rgba(255,0,255,0.7);
  }
  66% {
    text-shadow: 2px -2px 0 rgba(0,0,255,0.7),
                -2px 2px 0 rgba(255,255,0,0.7);
  }
  100% {
    text-shadow: 2px 2px 0 rgba(255,0,0,0.7),
                -2px -2px 0 rgba(0,255,255,0.7);
  }
}

/* -------------------------------------------------------------------------- */
/*                                Geass effect                             */
/* -------------------------------------------------------------------------- */

.c-effect__geass-wrapper{
  position: fixed;
  display: inline-block;
  width: 250px;
  height: 250px;
  bottom : 0px;
  left: 15%;
  user-select: none;
  pointer-events: none;
}
.c-effect__geass_shizuru {
  z-index:100000;
  width: 250px;
  height: 250px;
  bottom: -250px;
  animation-timing-function: linear;
  animation-name: effect__geass-shizuru;
  animation-duration: 5s;
}
@keyframes effect__geass-shizuru {
    0%,100% { transform: translateY(250px);}
    10%,90% { transform: translateY(0px);}
}

.c-effect__geass{
  width: 100px;
  height: 50px;

  position: absolute;
  top: calc(80px);
  left: calc(90px);
  transform-origin: center;
  z-index:90001;
  animation-name: effect__geass;
  animation-duration: 2s;
  animation-timing-function: linear;
  opacity: 0.9;
}

@keyframes effect__geass {
  0% { scale: 100%; transform: translateY(0%)}
  50% {scale: 400%; transform: translateY(-30%) translateX(10%)}
  100% { scale: 800%; transform: translateY(-100%) translateX(40%)}
}

.c-effect__geass-static-B{
  position: fixed;
  z-index: 89999;
  width: 100%;
  height: 5%;
  left: 0%;
  bottom: 0%;
  margin: auto;
  background-image: repeating-radial-gradient(circle at 50% 100%, black, red 0.00085px);
  background-position: center;
  animation: staticanimation 5s linear infinite;
  -webkit-mask-image: linear-gradient(to top, black 0%, transparent 100%);
  mask-image: linear-gradient(to top, black 0%, transparent 100%);
}
.c-effect__geass-static-T{
  position: fixed;
  z-index: 89999;
  width: 100%;
  height: 5%;
  left: 0%;
  bottom: 95%;
  margin: auto;
  background-image: repeating-radial-gradient(circle at 50% 0%, black, red 0.00085px);
  background-position: center;
  animation: staticanimation 5s linear infinite;
  -webkit-mask-image: linear-gradient(to bottom, black 0%, transparent 100%);
  mask-image: linear-gradient(to bottom, black 0%, transparent 100%);
}

.c-effect__geass-static-L{
  position: fixed;
  z-index: 89999;
  width: 5%;
  height: 100%;
  left: 0%;
  bottom: 0%;
  margin: auto;
  background-image: repeating-radial-gradient(circle at 0% 50%, black, red 0.00085px);
  background-position: center;
  animation: staticanimation 5s linear infinite;
  -webkit-mask-image: linear-gradient(to right, black 0%, transparent 100%);
  mask-image: linear-gradient(to right, black 0%, transparent 100%);
}
.c-effect__geass-static-R{
  position: fixed;
  z-index: 89999;
  width: 5%;
  height: 100%;
  left: 95%;
  bottom: 0%;
  margin: auto;
  background-image: repeating-radial-gradient(circle at 100% 50%, black, red 0.00085px);
  background-position: center;
  animation: staticanimation 5s linear infinite;
  -webkit-mask-image: linear-gradient(to left, black 0%, transparent 100%);
  mask-image: linear-gradient(to left, black 0%, transparent 100%);
}

@keyframes staticanimation {
  from { background-size: 100% 100%; }
  to {background-size: 200% 200%; }
}



/* -------------------------------------------------------------------------- */
/*                                Spinzaku effect                             */
/* -------------------------------------------------------------------------- */
.c-effect__spinzaku{
  position: fixed;
  height: 400px;
  z-index:20000;
  animation-name: effect__spinzaku-RtL;
  animation-duration: 3s;
  animation-timing-function: linear;
  transform-origin: center;
  user-select: none;
  pointer-events: none;
  opacity: 0.95;

  top: 40%;
  right: 0%;
}
.c-effect__spinzaku-vf { animation-duration: 0.5s; }
.c-effect__spinzaku-f { animation-duration: 1s; }
.c-effect__spinzaku-n { animation-duration: 2s; }
.c-effect__spinzaku-s { animation-duration: 4s; }
.c-effect__spinzaku-vs { animation-duration: 8s; }

.c-effect__spinzaku-rvf { animation-duration: 0.5s; animation-name: effect__spinzaku-LtR }
.c-effect__spinzaku-rf { animation-duration: 1s;  animation-name: effect__spinzaku-LtR }
.c-effect__spinzaku-rn { animation-duration: 2s;  animation-name: effect__spinzaku-LtR }
.c-effect__spinzaku-rs { animation-duration: 4s;  animation-name: effect__spinzaku-LtR }
.c-effect__spinzaku-rvs { animation-duration: 8s;  animation-name: effect__spinzaku-LtR }

@keyframes effect__spinzaku-RtL {
  0% { right: -10%;}
  100% { right: 100%;}
}
@keyframes effect__spinzaku-LtR {
  0% { right: 100%;}
  100% { right: -10%;}
}

/* -------------------------------------------------------------------------- */
/*                                Pole Chan effect                            */
/* -------------------------------------------------------------------------- */

@keyframes smallKick {
 0% { transform: skewY(-30deg);
      transform: skewX(-30deg);}
 20% { transform: skewY(30deg);
      transform: skewX(30deg); }
 40% { transform: skewY(-30deg);
       transform: skewX(-30deg)}
 60% { transform: skewY(30deg);
       transform: skewX(30deg)}
 80% { transform: skewY(0deg);
       transform: skewX(0deg)}
 100% { transform: skewY(0deg);
        transform: skewX(0deg)}
}

@keyframes bigKick {
 0% { transform: skewY(-60deg);
      transform: skewX(-60deg);}
 20% { transform: skewY(60deg);
      transform: skewX(60deg); }
 40% { transform: skewY(-60deg);
       transform: skewX(-60deg)}
 60% { transform: skewY(60deg);
       transform: skewX(60deg)}
 80% { transform: skewY(0deg);
       transform: skewX(0deg)}
 100% { transform: skewY(0deg);
        transform: skewX(0deg)}
}

.kickedSmall {
  animation-name: smallKick;
  animation-duration: .25s;
  animation-iteration-count: 1;
}

.kickedBig {
  animation-name: bigKick;
  animation-duration: .25s;
  animation-iteration-count: 1;
}

.UnlimitedKickWorks {
  animation-name: smallKick;
  animation-duration: .25s;
  animation-iteration-count: infinite;
}

/* -------------------------------------------------------------------------- */
/*                                Idol effect                                   */
/* -------------------------------------------------------------------------- */

/* Spotlight container */
.c-idol-spotlight-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: var(--z-effects);
  overflow: hidden;
}

.c-idol-spotlight {
  position: absolute; /* Changed to absolute since parent is fixed */
  top: -20%;
  width: 150px;
  height: 300%;
  background: linear-gradient(to bottom,
    var(--spotlight-color),
    var(--spotlight-color-fade) 70%,
    transparent 95%
  );
  filter: blur(15px);
  transform-origin: top;
  animation: idol-spotlight-sweep 7s infinite ease-in-out;
  animation-delay: var(--spotlight-delay);
  opacity: 0.95;
  mix-blend-mode: hard-light;
}

/* Sparkles container */
.c-idol-sparkle-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: calc(var(--z-effects) + 1);
  overflow: hidden;
}

.c-idol-sparkle {
  position: absolute; /* Changed to absolute since parent is fixed */
  bottom: -20px;
  width: 6px;
  height: 6px;
  background: radial-gradient(circle at center,
    rgba(255,255,255,1) 0%,
    rgba(255,255,255,0.8) 50%,
    transparent 100%
  );
  border-radius: 50%;
  filter: blur(1px);
  box-shadow: 0 0 10px rgba(255,255,255,0.8);
  animation: idol-sparkle-rise 2s ease-out forwards;
}

/* Disco ball container */
.c-idol-discoball-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: calc(var(--z-effects) + 2);
}

.c-idol-discoball {
  position: absolute; /* Changed to absolute since parent is fixed */
  top: -40px;
  left: 50%;
  transform: translateX(-50%);
  width: 80px;
  height: 80px;
  background: radial-gradient(circle at 50% 50%,
    rgba(255,255,255,0.9),
    rgba(200,200,200,0.8) 40%,
    rgba(150,150,150,0.6) 60%);
  border-radius: 50%;
  box-shadow:
    0 0 20px rgba(255,255,255,0.8),
    0 0 40px rgba(255,255,255,0.4);
  animation: idol-disco-spin 3s infinite linear;
}

.c-idol-discoball::before {
  content: '';
  position: absolute;
  top: -20px;
  left: 50%;
  width: 2px;
  height: 20px;
  background: #666;
  transform: translateX(-50%);
}

.c-idol-discoball::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image:
    linear-gradient(45deg, transparent 45%, rgba(255,255,255,0.8) 50%, transparent 55%),
    linear-gradient(-45deg, transparent 45%, rgba(255,255,255,0.8) 50%, transparent 55%);
  background-size: 10px 10px;
  border-radius: 50%;
  animation: idol-disco-sparkle 1s infinite linear;
}

/* Animations */
@keyframes idol-disco-spin {
  0% { transform: translateX(-50%) rotate(0deg); }
  100% { transform: translateX(-50%) rotate(360deg); }
}

@keyframes idol-disco-sparkle {
  0% { opacity: 0.7; }
  50% { opacity: 1; }
  100% { opacity: 0.7; }
}

@keyframes idol-spotlight-sweep {
  0% {
    transform: rotate(-45deg) translateX(-100%);
    opacity: 0.95;
  }
  25% {
    transform: rotate(0deg) translateX(0);
    opacity: 1;
  }
  50% {
    transform: rotate(45deg) translateX(100%);
    opacity: 0.95;
  }
  75% {
    transform: rotate(0deg) translateX(0);
    opacity: 1;
  }
  100% {
    transform: rotate(-45deg) translateX(-100%);
    opacity: 0.95;
  }
}

@keyframes idol-sparkle-rise {
  0% {
    transform: translateY(0) scale(1);
    opacity: 1;
  }
  100% {
    transform: translateY(-100vh) scale(0);
    opacity: 0;
  }
}

.has-idol-effect #main {
  transition: all 0.3s ease-in-out;
}

/* -------------------------------------------------------------------------- */
/*                                Heartbeat effect                                */
/* -------------------------------------------------------------------------- */
/* Sans damage effect container */
.c-effect__heartbeat-damage {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: var(--z-effects);
}

/* Vignette overlay with heartbeat pulse */
.c-effect__heartbeat-vignette {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;

  /* Create vignette using radial gradient */
  background: radial-gradient(
    circle at center,
    transparent 30%,
    rgba(255, 0, 0, 0.1) 60%,
    rgba(255, 0, 0, 0.4) 100%
  );

  /* Add film grain texture */
  background-blend-mode: multiply;

  /* Pulsing animation */
  animation: heartbeat-pulse 1s ease-in-out infinite;

  /* Smooth transitions */
  transition: all 0.3s ease-in-out;
}

@keyframes heartbeat-pulse {
  0%, 100% {
    opacity: 0.7;
    transform: scale(1);
  }

  /* First beat */
  15% {
    opacity: 0.9;
    transform: scale(1.02);
  }

  /* Quick release */
  30% {
    opacity: 0.7;
    transform: scale(1);
  }

  /* Second beat (smaller) */
  45% {
    opacity: 0.8;
    transform: scale(1.01);
  }

  /* Rest period */
  60% {
    opacity: 0.7;
    transform: scale(1);
  }
}

/* Optional: Add screen distortion effect */
.c-effect__heartbeat-damage::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAUVBMVEWFhYWDg4N3d3dtbW17e3t1dXWBgYGHh4d5eXlzc3OLi4ubm5uVlZWPj4+NjY19fX2JiYl/f39ra2uRkZGZmZlpaWmXl5dvb29xcXGTk5NnZ2c8TV1mAAAAG3RSTlNAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEAvEOwtAAAFVklEQVR4XpWWB67c2BUFb3g557T/hRo9/WUMZHlgr4Bg8Z4qQgQJlHI4A8SzFVrapvmTF9O7dmYRFZ60YiBhJRCgh1FYhiLAmdvX0CzTOpNE77ME0Zty/nWWzchDtiqrmQDeuv3powQ5ta2eN0FY0InkqDD73lT9c9lEzwUNqgFHs9VQce3TVClFCQrSTfOiYkVJQBmpbq2L6iZavPnAPcoU0dSw0SUTqz/GtrGuXfbyyBniKykOWQWGqwwMA7QiYAxi+IlPdqo+hYHnUt5ZPfnsHJyNiDtnpJyayNBkF6cWoYGAMY92U2hXHF/C1M8uP/ZtYdiuj26UdAdQQSXQErwSOMzt/XWRWAz5GuSBIkwG1H3FabJ2OsUOUhGC6tK4EMtJO0ttC6IBD3kM0ve0tJwMdSfjZo+EEISaeTr9P3wYrGjXqyC1krcKdhMpxEnt5JetoulscpyzhXN5FRpuPHvbeQaKxFAEB6EN+cYN6xD7RYGpXpNndMmZgM5Dcs3YSNFDHUo2LGfZuukSWyUYirJAdYbF3MfqEKmjM+I2EfhA94iG3L7uKrR+GdWD73ydlIB+6hgref1QTlmgmbM3/LeX5GI1Ux1RWpgxpLuZ2+I+IjzZ8wqE4nilvQdkUdfhzI5QDWy+kw5Wgg2pGpeEVeCCA7b85BO3F9DzxB3cdqvBzWcmzbyMiqhzuYqtHRVG2y4x+KOlnyqla8AoWWpuBoYRxzXrfKuILl6SfiWCbjxoZJUaCBj1CjH7GIaDbc9kqBY3W/Rgjda1iqQcOJu2WW+76pZC9QG7M00dffe9hNnseupFL53r8F7YHSwJWUKP2q+k7RdsxyOB11n0xtOvnW4irMMFNV4H0uqwS5ExsmP9AxbDTc9JwgneAT5vTiUSm1E7BSflSt3bfa1tv8Di3R8n3Af7MNWzs49hmauE2wP+ttrq+AsWpFG2awvsuOqbipWHgtuvuaAE+A1Z/7gC9hesnr+7wqCwG8c5yAg3AL1fm8T9AZtp/bbJGwl1pNrE7RuOX7PeMRUERVaPpEs+yqeoSmuOlokqw49pgomjLeh7icHNlG19yjs6XXOMedYm5xH2YxpV2tc0Ro2jJfxC50ApuxGob7lMsxfTbeUv07TyYxpeLucEH1gNd4IKH2LAg5TdVhlCafZvpskfncCfx8pOhJzd76bJWeYFnFciwcYfubRc12Ip/ppIhA1/mSZ/RxjFDrJC5xifFjJpY2Xl5zXdguFqYyTR1zSp1Y9p+tktDYYSNflcxI0iyO4TPBdlRcpeqjK/piF5bklq77VSEaA+z8qmJTFzIWiitbnzR794USKBUaT0NTEsVjZqLaFVqJoPN9ODG70IPbfBHKK+/q/AWR0tJzYHRULOa4MP+W/HfGadZUbfw177G7j/OGbIs8TahLyynl4X4RinF793Oz+BU0saXtUHrVBFT/DnA3ctNPoGbs4hRIjTok8i+algT1lTHi4SxFvONKNrgQFAq2/gFnWMXgwffgYMJpiKYkmW3tTg3ZQ9Jq+f8XN+A5eeUKHWvJWJ2sgJ1Sop+wwhqFVijqWaJhwtD8MNlSBeWNNWTa5Z5kPZw5+LbVT99wqTdx29lMUH4OIG/D86ruKEauBjvH5xy6um/Sfj7ei6UUVk4AIl3MyD4MSSTOFgSwsH/QJWaQ5as7ZcmgBZkzjjU1UrQ74ci1gWBCSGHtuV1H2mhSnO3Wp/3fEV5a+4wz//6qy8JxjZsmxxy5+4w9CDNJY09T072iKG0EnOS0arEYgXqYnXcYHwjTtUNAcMelOd4xpkoqiTYICWFq0JSiPfPDQdnt+4/wuqcXY47QILbgAAAABJRU5ErkJggg==");
  opacity: 0.03;
  animation: heartbeat-noise 0.2s steps(4) infinite;
}

@keyframes heartbeat-noise {
  0% { transform: translateX(0); }
  25% { transform: translateX(-1px); }
  50% { transform: translateX(1px); }
  75% { transform: translateX(-1px); }
  100% { transform: translateX(1px); }
}

/* -------------------------------------------------------------------------- */
/*                                Punch element                               */
/* -------------------------------------------------------------------------- */
.c-punch-element {
  position: fixed;
  top: 0;
  left: 0;

  z-index: var(--z-effects);
  transition: filter 150ms ease-out;
  user-select: none;
  opacity: 0.9;
}
.c-punch-element.is-punched {
  filter: blur(4px) brightness(1.2) hue-rotate(15deg);
}
/* .c-punch-element:after {
  content: "";
  display: block;
  top: 0;
  left: 0;
  opacity: 0;
  position: absolute;
  width: 100%;
  height: 100%;

  transition: all 0.2s ease-out;
  filter: brightness(150%) contrast(2) hue-rotate(20deg);
}
.c-punch-element.is-punched:after {
  opacity: 0.5;
} */


.c-punch-element div {
  font-size: 40px;
  font-weight: bold;
  color: white;
  text-shadow:
      -2px 2px 0 #000,
      2px 2px 0 #000,
      2px -2px 0 #000,
      -2px -2px 0 #000;

  position: absolute;
  left: 0;
  bottom: 16px;
  width: 100%;
  text-align: center;
}

/* -------------------------------------------------------------------------- */
/*                                Ami Face Popup                              */
/* -------------------------------------------------------------------------- */

body.amifacebg > * {
	opacity: 0 !important;
}

body.amifacebg {
	background-image: url("./Images/ami-face-hq-popup.png");
	background-size: 100% 100%;
	background-attachment: fixed;
}

#amiface {
	height: 1px;
	width: 1px;
	opacity: 0.01;
}

/* -------------------------------------------------------------------------- */
/*                                Wheel effect                                */
/* -------------------------------------------------------------------------- */
.c-wheel {
  position: fixed;
  top: 0;
  left: 0;
  width: 640px;
  z-index: var(--z-effects);

  opacity: 0.8;

  top: calc(50% - 320px);
  left: calc(50% - 320px);

  --rotation: 0deg;
  --spin-time: 5s;
}
.c-wheel svg {
  width: 100%;
  transition: transform var(--spin-time) cubic-bezier(0.5, 1, 0.89, 1);
  transform: rotate(var(--rotation));

  z-index: 1;
}
.c-wheel .c-wheel-stick {
  position: absolute;
  width: 40px;
  height: 8px;
  background-color: #000;
  border-radius: 3px 0 0 3px;

  top: calc(50% - 4px);
  right: 0;

  z-index: 2;
}

/* -------------------------------------------------------------------------- */
/*                                   TL Note                                  */
/* -------------------------------------------------------------------------- */
.c-tl-note {
  position: fixed;
  left: 16px;
  right: 16px;
  bottom: 16px;
  z-index: var(--z-effects);

  font-size: 32px;
  font-family: Arial;
  text-align: center;

  color: yellow;
  text-shadow:
    -1px -1px 0 rgba(0, 0, 0, 0.8),
    1px -1px 0 rgba(0, 0, 0, 0.8),
    -1px 1px 0 rgba(0, 0, 0, 0.8),
    1px 1px 0 rgba(0, 0, 0, 0.8);
}
